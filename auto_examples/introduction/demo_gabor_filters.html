

<!DOCTYPE html>
<html class="writer-html5" lang="en" >
<head>
  <meta charset="utf-8">
  
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  
  <title>Spatial components of the motion energy filters &mdash; pymoten 0.0.0 documentation</title>
  

  
  <link rel="stylesheet" href="../../_static/css/theme.css" type="text/css" />
  <link rel="stylesheet" href="../../_static/pygments.css" type="text/css" />
  <link rel="stylesheet" href="../../_static/graphviz.css" type="text/css" />
  <link rel="stylesheet" href="../../_static/gallery.css" type="text/css" />
  <link rel="stylesheet" href="../../_static/gallery-binder.css" type="text/css" />
  <link rel="stylesheet" href="../../_static/gallery-dataframe.css" type="text/css" />

  
  
  
  

  
  <!--[if lt IE 9]>
    <script src="../../_static/js/html5shiv.min.js"></script>
  <![endif]-->
  
    
      <script type="text/javascript" id="documentation_options" data-url_root="../../" src="../../_static/documentation_options.js"></script>
        <script src="../../_static/jquery.js"></script>
        <script src="../../_static/underscore.js"></script>
        <script src="../../_static/doctools.js"></script>
        <script src="../../_static/language_data.js"></script>
        <script async="async" src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.7/latest.js?config=TeX-AMS-MML_HTMLorMML"></script>
    
    <script type="text/javascript" src="../../_static/js/theme.js"></script>

    
    <link rel="index" title="Index" href="../../genindex.html" />
    <link rel="search" title="Search" href="../../search.html" />
    <link rel="next" title="Computing motion energy features from batches of stimuli" href="demo_batching.html" />
    <link rel="prev" title="Visualizing the motion energy filters" href="demo_show_filters.html" /> 
</head>

<body class="wy-body-for-nav">

   
  <div class="wy-grid-for-nav">
    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >
          

          
            <a href="../../index.html" class="icon icon-home" alt="Documentation Home"> pymoten
          

          
          </a>

          
            
            
          

          
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>

          
        </div>

        
        <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
          
            
            
              
            
            
              <ul>
<li class="toctree-l1"><a class="reference internal" href="../../index.html">Welcome to pymoten!</a></li>
</ul>
<p class="caption"><span class="caption-text">Examples</span></p>
<ul class="current">
<li class="toctree-l1 current"><a class="reference internal" href="../index.html">Gallery of examples</a><ul class="current">
<li class="toctree-l2 current"><a class="reference internal" href="../index.html#motion-energy-pyramids">Motion energy pyramids</a><ul class="current">
<li class="toctree-l3"><a class="reference internal" href="demo_example.html">Using the motion energy pyramid class</a></li>
<li class="toctree-l3"><a class="reference internal" href="demo_show_filters.html">Visualizing the motion energy filters</a></li>
<li class="toctree-l3 current"><a class="current reference internal" href="#">Spatial components of the motion energy filters</a></li>
<li class="toctree-l3"><a class="reference internal" href="demo_batching.html">Computing motion energy features from batches of stimuli</a></li>
<li class="toctree-l3"><a class="reference internal" href="demo_image_coordinates.html">Image coordinates</a></li>
</ul>
</li>
</ul>
</li>
</ul>
<p class="caption"><span class="caption-text">API Reference</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../../autodoc/moten.html">moten package</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../../autodoc/moten.html#submodules">Submodules</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../../autodoc/moten.colorspace.html">moten.colorspace module</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../autodoc/moten.core.html">moten.core module</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../autodoc/moten.extras.html">moten.extras module</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../autodoc/moten.io.html">moten.io module</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../autodoc/moten.pyramids.html">moten.pyramids module</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../autodoc/moten.utils.html">moten.utils module</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../autodoc/moten.viz.html">moten.viz module</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../../autodoc/moten.html#module-moten">Module contents</a></li>
</ul>
</li>
</ul>

            
          
        </div>
        
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" aria-label="top navigation">
        
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../../index.html">pymoten</a>
        
      </nav>


      <div class="wy-nav-content">
        
        <div class="rst-content">
        
          















<div role="navigation" aria-label="breadcrumbs navigation">

  <ul class="wy-breadcrumbs">
    
      <li><a href="../../index.html" class="icon icon-home"></a> &raquo;</li>
        
          <li><a href="../index.html">Gallery of examples</a> &raquo;</li>
        
      <li>Spatial components of the motion energy filters</li>
    
    
      <li class="wy-breadcrumbs-aside">
        
            
            <a href="../../_sources/auto_examples/introduction/demo_gabor_filters.rst.txt" rel="nofollow"> View page source</a>
          
        
      </li>
    
  </ul>

  
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
            
  <div class="sphx-glr-download-link-note admonition note">
<p class="admonition-title">Note</p>
<p>Click <a class="reference internal" href="#sphx-glr-download-auto-examples-introduction-demo-gabor-filters-py"><span class="std std-ref">here</span></a>     to download the full example code</p>
</div>
<div class="sphx-glr-example-title section" id="spatial-components-of-the-motion-energy-filters">
<span id="sphx-glr-auto-examples-introduction-demo-gabor-filters-py"></span><h1>Spatial components of the motion energy filters<a class="headerlink" href="#spatial-components-of-the-motion-energy-filters" title="Permalink to this headline">¶</a></h1>
<p>This example shows the spatial components of the spatio-temporal filters used
in motion energy features. It does not show the temporal components, since this
gallery does not support animation. To visualize the filters with their
temporal components, you can use <a class="reference internal" href="../../autodoc/moten.viz.html#moten.viz.plot_3dgabor" title="moten.viz.plot_3dgabor"><code class="xref py py-func docutils literal notranslate"><span class="pre">moten.viz.plot_3dgabor()</span></code></a>.
Here we demonstrate how the spatial filters vary in term of spatial
frequencies, locations, and directions.</p>
<p>First, let’s define a motion energy pyramid, using <code class="xref py py-class docutils literal notranslate"><span class="pre">MotionEnergyPyramid</span></code>.
It defines a set of spatio-temporal Gabor filters.</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="kn">import</span> <span class="nn">moten</span>
<span class="n">pyramid</span> <span class="o">=</span> <span class="n">moten</span><span class="o">.</span><span class="n">pyramids</span><span class="o">.</span><span class="n">MotionEnergyPyramid</span><span class="p">(</span><span class="n">stimulus_vhsize</span><span class="o">=</span><span class="p">(</span><span class="mi">300</span><span class="p">,</span> <span class="mi">400</span><span class="p">),</span>
                                             <span class="n">stimulus_fps</span><span class="o">=</span><span class="mi">25</span><span class="p">)</span>
</pre></div>
</div>
<p>Then, we define a plotting function, to show the spatial part of these
spatio-temporal Gabor filters.</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="kn">import</span> <span class="nn">matplotlib.pyplot</span> <span class="k">as</span> <span class="nn">plt</span>  <span class="c1"># noqa</span>


<span class="k">def</span> <span class="nf">plot_spatial_gabors</span><span class="p">(</span><span class="n">pyramid</span><span class="p">,</span> <span class="n">indices</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;Plot the two quadrature spatial components of a list of Gabor filters.</span>

<span class="sd">    Note this only show the spatial components of the spatio-temporal filters.</span>

<span class="sd">    Parameters</span>
<span class="sd">    ----------</span>
<span class="sd">    pyramid : moten.pyramid.MotionEnergyPyramid instance</span>
<span class="sd">    indices : list of int</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="n">vdim</span> <span class="o">=</span> <span class="n">pyramid</span><span class="o">.</span><span class="n">definition</span><span class="p">[</span><span class="s1">&#39;vdim&#39;</span><span class="p">]</span>

    <span class="n">size</span> <span class="o">=</span> <span class="mf">0.6</span>
    <span class="n">fig</span><span class="p">,</span> <span class="n">axs</span> <span class="o">=</span> <span class="n">plt</span><span class="o">.</span><span class="n">subplots</span><span class="p">(</span>
        <span class="mi">2</span><span class="p">,</span> <span class="nb">len</span><span class="p">(</span><span class="n">indices</span><span class="p">),</span> <span class="n">figsize</span><span class="o">=</span><span class="p">((</span><span class="nb">len</span><span class="p">(</span><span class="n">indices</span><span class="p">)</span> <span class="o">*</span> <span class="mf">4.25</span> <span class="o">+</span> <span class="mf">0.25</span><span class="p">)</span> <span class="o">*</span> <span class="n">size</span><span class="p">,</span>
                                  <span class="mf">7.5</span> <span class="o">*</span> <span class="n">size</span><span class="p">),</span> <span class="n">squeeze</span><span class="o">=</span><span class="kc">False</span><span class="p">,</span>
        <span class="n">sharex</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span> <span class="n">sharey</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>

    <span class="n">axs</span><span class="o">.</span><span class="n">T</span><span class="p">[</span><span class="mi">0</span><span class="p">][</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">set_ylabel</span><span class="p">(</span><span class="s1">&#39;spatial Gabor (cos)&#39;</span><span class="p">)</span>
    <span class="n">axs</span><span class="o">.</span><span class="n">T</span><span class="p">[</span><span class="mi">0</span><span class="p">][</span><span class="mi">1</span><span class="p">]</span><span class="o">.</span><span class="n">set_ylabel</span><span class="p">(</span><span class="s1">&#39;spatial Gabor (sin)&#39;</span><span class="p">)</span>

    <span class="k">for</span> <span class="n">ii</span><span class="p">,</span> <span class="n">axs_</span> <span class="ow">in</span> <span class="nb">zip</span><span class="p">(</span><span class="n">indices</span><span class="p">,</span> <span class="n">axs</span><span class="o">.</span><span class="n">T</span><span class="p">):</span>

        <span class="n">spatial_sin</span><span class="p">,</span> <span class="n">spatial_cos</span> <span class="o">=</span> <span class="n">pyramid</span><span class="o">.</span><span class="n">get_filter_spatial_quadrature</span><span class="p">(</span><span class="n">ii</span><span class="p">)</span>
        <span class="n">axs_</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">imshow</span><span class="p">(</span><span class="n">spatial_cos</span><span class="p">,</span> <span class="n">aspect</span><span class="o">=</span><span class="s1">&#39;equal&#39;</span><span class="p">)</span>
        <span class="n">axs_</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span><span class="o">.</span><span class="n">imshow</span><span class="p">(</span><span class="n">spatial_sin</span><span class="p">,</span> <span class="n">aspect</span><span class="o">=</span><span class="s1">&#39;equal&#39;</span><span class="p">)</span>
        <span class="n">axs_</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">set_title</span><span class="p">(</span><span class="s1">&#39;filter </span><span class="si">%d</span><span class="s1">&#39;</span> <span class="o">%</span> <span class="n">ii</span><span class="p">)</span>

        <span class="n">gabor</span> <span class="o">=</span> <span class="n">pyramid</span><span class="o">.</span><span class="n">filters</span><span class="p">[</span><span class="n">ii</span><span class="p">]</span>
        <span class="k">for</span> <span class="n">ax</span> <span class="ow">in</span> <span class="n">axs_</span><span class="p">:</span>
            <span class="n">ax</span><span class="o">.</span><span class="n">scatter</span><span class="p">(</span><span class="n">gabor</span><span class="p">[</span><span class="s1">&#39;centerh&#39;</span><span class="p">]</span> <span class="o">*</span> <span class="n">vdim</span><span class="p">,</span> <span class="n">gabor</span><span class="p">[</span><span class="s1">&#39;centerv&#39;</span><span class="p">]</span> <span class="o">*</span> <span class="n">vdim</span><span class="p">,</span>
                       <span class="n">color</span><span class="o">=</span><span class="s1">&#39;k&#39;</span><span class="p">,</span> <span class="n">marker</span><span class="o">=</span><span class="s1">&#39;+&#39;</span><span class="p">)</span>
            <span class="n">ax</span><span class="o">.</span><span class="n">set_xticks</span><span class="p">([])</span>
            <span class="n">ax</span><span class="o">.</span><span class="n">set_yticks</span><span class="p">([])</span>

    <span class="n">plt</span><span class="o">.</span><span class="n">tight_layout</span><span class="p">()</span>
</pre></div>
</div>
<div class="section" id="different-spatial-frequencies">
<h2>Different spatial frequencies<a class="headerlink" href="#different-spatial-frequencies" title="Permalink to this headline">¶</a></h2>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">plot_spatial_gabors</span><span class="p">(</span><span class="n">pyramid</span><span class="p">,</span> <span class="p">[</span><span class="mi">0</span><span class="p">,</span> <span class="mi">23</span><span class="p">,</span> <span class="mi">88</span><span class="p">,</span> <span class="mi">577</span><span class="p">])</span>
</pre></div>
</div>
<img alt="filter 0, filter 23, filter 88, filter 577" class="sphx-glr-single-img" src="../../_images/sphx_glr_demo_gabor_filters_001.png" />
</div>
<div class="section" id="different-locations">
<h2>Different locations<a class="headerlink" href="#different-locations" title="Permalink to this headline">¶</a></h2>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">plot_spatial_gabors</span><span class="p">(</span><span class="n">pyramid</span><span class="p">,</span> <span class="p">[</span><span class="mi">46</span><span class="p">,</span> <span class="mi">52</span><span class="p">,</span> <span class="mi">58</span><span class="p">,</span> <span class="mi">64</span><span class="p">])</span>
</pre></div>
</div>
<img alt="filter 46, filter 52, filter 58, filter 64" class="sphx-glr-single-img" src="../../_images/sphx_glr_demo_gabor_filters_002.png" />
</div>
<div class="section" id="different-directions">
<h2>Different directions<a class="headerlink" href="#different-directions" title="Permalink to this headline">¶</a></h2>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">plot_spatial_gabors</span><span class="p">(</span><span class="n">pyramid</span><span class="p">,</span> <span class="p">[</span><span class="mi">88</span><span class="p">,</span> <span class="mi">157</span><span class="p">,</span> <span class="mi">202</span><span class="p">,</span> <span class="mi">247</span><span class="p">])</span>
</pre></div>
</div>
<img alt="filter 88, filter 157, filter 202, filter 247" class="sphx-glr-single-img" src="../../_images/sphx_glr_demo_gabor_filters_003.png" />
<p class="sphx-glr-timing"><strong>Total running time of the script:</strong> ( 0 minutes  1.151 seconds)</p>
<div class="sphx-glr-footer class sphx-glr-footer-example docutils container" id="sphx-glr-download-auto-examples-introduction-demo-gabor-filters-py">
<div class="sphx-glr-download sphx-glr-download-python docutils container">
<p><a class="reference download internal" download="" href="../../_downloads/5783b9ad8c2f1b859ed5d74910d07138/demo_gabor_filters.py"><code class="xref download docutils literal notranslate"><span class="pre">Download</span> <span class="pre">Python</span> <span class="pre">source</span> <span class="pre">code:</span> <span class="pre">demo_gabor_filters.py</span></code></a></p>
</div>
<div class="sphx-glr-download sphx-glr-download-jupyter docutils container">
<p><a class="reference download internal" download="" href="../../_downloads/f73b4bc16cf2b384cc9dc1a36561c0fc/demo_gabor_filters.ipynb"><code class="xref download docutils literal notranslate"><span class="pre">Download</span> <span class="pre">Jupyter</span> <span class="pre">notebook:</span> <span class="pre">demo_gabor_filters.ipynb</span></code></a></p>
</div>
</div>
<p class="sphx-glr-signature"><a class="reference external" href="https://sphinx-gallery.github.io">Gallery generated by Sphinx-Gallery</a></p>
</div>
</div>


           </div>
           
          </div>
          <footer>
  
    <div class="rst-footer-buttons" role="navigation" aria-label="footer navigation">
      
        <a href="demo_batching.html" class="btn btn-neutral float-right" title="Computing motion energy features from batches of stimuli" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right"></span></a>
      
      
        <a href="demo_show_filters.html" class="btn btn-neutral float-left" title="Visualizing the motion energy filters" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left"></span> Previous</a>
      
    </div>
  

  <hr/>

  <div role="contentinfo">
    <p>
        
        &copy; Copyright 2020, Anwar O. Nunez-Elizalde

    </p>
  </div>
    
    
    
    Built with <a href="http://sphinx-doc.org/">Sphinx</a> using a
    
    <a href="https://github.com/rtfd/sphinx_rtd_theme">theme</a>
    
    provided by <a href="https://readthedocs.org">Read the Docs</a>. 

</footer>

        </div>
      </div>

    </section>

  </div>
  

  <script type="text/javascript">
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script>

  
  
    
   

</body>
</html>